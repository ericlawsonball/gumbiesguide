{% extends "base.html" %}

{% block header %}
  <title>GumbysGuide.com | MPG Results</title>
{% end %}

{% block body %}
<div class="ui container">
  <h1>You drove {{m}} miles, used {{g}} gallons, and spent ${{d}}.</h1>
  <p>Your mileage was {{ m / g }} mpg</p>
  <p>Your cost was ${{ d / g }}/gal or ${{d / m}}/mile</p>

<table class="ui right aligned table">
  <thead>
    <tr>
    <th class="left aligned">#</th>
    <th class="left aligned">Date</th>
    <th class="left aligned">Miles</th>
    <th class="left aligned">Gallons</th>
    <th class="left aligned">Dollars</th>
    <th class="left aligned">MPG</th>
    <th class="left aligned">Cost ($/mile)</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  {% set counter = 0 %}
  {% for row in records %}
      {% set counter = counter + 1 %}
      <font face="courier">
      <tr>
        <td class="left aligned">{{ counter }}</td>
        <td class="left aligned">{{ str(row["date"])[0:x] }}</td>
        <td class="left aligned">{{ str(row["miles"])[0:x] }}</td>
        <td class="left aligned">{{ str(row["gallons"])[0:x] }}</td>
        <td class="left aligned">{{ str(row["dollars"])[0:x] }}</td>
        <td class="left aligned">{{ str(row["mileage"])[0:x] }}</td>
        <td class="left aligned">{{ str(row["cost_per_mile"])[0:x] }}</td>
        <td><button class="ui small button">Edit</button></td>
      </tr>
      </font>
  {% end %}
   </tbody>
 </table>
</div>
{% end %}
